<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" , initial-scale="1" />
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://tse1-mm.cn.bing.net/th/id/OIP-C.lU4kOMw5lwhBp2-8nT0t0QHaH-?rs=1&pid=ImgDetMain"
    />
    <title>Login</title>
  </head>
  <body>
    <h1 class="center">Welcome Back to Moo Moo Money (MÂ³)!</h1>
    <img src="cow.jpg" alt="logo" width="200" height="200" class="img" />
    <form class="loginPage">
      <div class="container">
        <label for="uname"><b>Username</b></label>
        <input
          id="username"
          type="text"
          placeholder="Enter Username"
          name="uname"
          required
        />

        <label for="psw"><b>Password</b></label>
        <input
          id="password"
          type="password"
          placeholder="Enter Password"
          name="psw"
          required
        />
        <button class="login" type="button" onclick="login(event)">Login</button>
      </div>
    </form>
  </body>

  <script src="script.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
<script src="firebase-config.js"></script>
<script>
  // Fetch and display current coin count on page load
  function getCoinCount() {
    coinsRef.get().then(snapshot => {
      if (snapshot.exists()) {
        document.getElementById("coinDisplay").innerText = snapshot.val();
      } else {
        console.log("No data available");
      }
    }).catch(error => {
      console.error(error);
    });
  }

  // Update coin count in Firebase
  function updateCoinCount(count) {
    coinsRef.set(count);  // Updates the coin count in Firebase
    getCoinCount();       // Fetch and display updated count
  }

  // Listen for real-time changes in coin count
  coinsRef.on('value', (snapshot) => {
    const coinCount = snapshot.val();
    document.getElementById("coinDisplay").innerText = coinCount;
  });

  // Initialize page with current coin count
  getCoinCount();
</script>
</html>
